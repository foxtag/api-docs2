# Articles

## The Article object

| Attribute    | Type |       |
| ------------- |:----:| -----|  
| `id`          |  uuid |  Article id generated by foxtag | 
| `number`       |  string |  Your unique article number | 
| `name`   |   string |  Name of article | 
| `group`    |  string |  *optional*<br>Article group | 
| `unit`       | string | Unit to show next to the given amount of articles |
| `position`       | integer | *optional*<br>Number used to globally sort articles on a report. This number does not need to be unique | 
| `updated_at`  | timestamp |  Last update of object |



## List all articles

This endpoint retrieves all articles.

#### HTTP Request

`GET /articles`

```bash
# example request
curl "https://api.foxtag.io/api/v1/public/articles"
  -H "Authorization: Bearer token=süpersecret"
```
```json
// example response
{
  "articles": [
    {
      "id": "eca552b9-834c-4b8d-afd0-75a2ab3c9c28",
      "number": "A-1000",
      "name": "Dichtungsring, 16mm",
      "group": "Dichtungen",
      "unit": "Stk.",
      "position": 1,
      "updated_at": "2018-04-13T14:49:07.543Z"
    }
  ],
  "meta": {
    "current_page": 1,
    "total_pages": 1,
    "total_count": 1
  }
}
```

## Retrieve a specific article

This endpoint retrieves a specific article.

**HTTP Request with UUID**

`GET /articles/:id`

| Parameter    | Description |
| ------------ | ----- |  
| `id`         |  The UUID of the article to retrieve |

**HTTP Request with article number filter**

`GET /articles/?number=:number`

| Query Parameter    | Description |
| ------------ | ----- |  
| `number`     |  The unique number of the article to retrieve |

```bash
# example request
curl "https://api.foxtag.io/api/v1/public/articles/eca552b9-834c-4b8d-afd0-75a2ab3c9c28"
  -H "Authorization: Bearer token=süpersecret"
```
```json
// example response
{
  "article": {
    "id": "eca552b9-834c-4b8d-afd0-75a2ab3c9c28",
    "number": "A-1000",
    "name": "Dichtungsring, 16mm",
    "group": "Dichtungen",
    "unit": "Stk.",
    "position": 1,
    "updated_at": "2018-04-13T14:49:07.543Z"
  }
}
```

!> If you retrieve a record by its `id`, the response payload will be wrapped in an `article` element (singular). If you filter by query parameter, even on a unique field, the response payload will be wrapped in an `articles` (plural) element.

## Create or update articles

You can create or update multiple articles with a single request by posting a list of article objects.

#### HTTP Request

`POST /articles`

| Attribute    | Type |       |
| ------------- |:----:| -----|   
|id | uuid |*optional*<br>Creates a new record if id is not given<br>Creates new record if given and id is not existing<br>Updates a record if given and id is already existing|
|number|  string | Article number, must be unique|
|name | string | Article name|
|group  | string | *optional*<br>Article group name Group is created if not existing|
|unit|  string | Unit to show next to amount in article lines|
   
```bash
# Example request to insert/update articles
curl "https://api.foxtag.io/api/v1/public/articles"
  -H "Content-Type: application/json"
  -H "Authorization: Bearer token=süpersecret"
  -X POST
  -d '(see JSON payload below)'  
```
```json
// example JSON payload to insert/update articles
{
  "articles":[
    {
      "number": "D-101",
      "name": "Dichtungsring, 16mm",
      "group": "Dichtungen",
      "unit": "Stk."
    },
    {
      "number": "D-102",
      "name": "Dichtungsring, 22mm",
      "group": "Dichtungen",
      "unit": "Stk."
    }
  ]
}
```
#### HTTP Response

API responds with a list of ids and/or error messages. Refer to [Create/Update Response](/create_update_response?id=createupdate-response) for details.

